# HATTZ EMPIRE - AI Orchestration System

[![Version](https://img.shields.io/badge/version-v2.6.9-blue.svg)](https://github.com/hattz/hattz-empire)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Python](https://img.shields.io/badge/python-3.11+-yellow.svg)](https://python.org)

> **2026.01.09 | Researcher Claude CLI ì „í™˜ + ë‚ ì§œ ìë™ ì£¼ì…**
> **ë¬´ì¡°ê±´ ìµœì‹  ì •ë³´ë§Œ ë¦¬ì„œì¹˜**

---

## í•µì‹¬ ì² í•™

**"LLMì„ ë˜‘ë˜‘í•˜ê²Œ ë§Œë“  ê²Œ ì•„ë‹ˆë¼, ë§ ì•ˆ ë“£ê²Œ ë§Œë“¤ì—ˆë‹¤."**

### ë¶€íŠ¸ë¡œë” ì›ì¹™
1. **ì—ì´ì „íŠ¸ëŠ” ì„œë¡œì˜ ì¡´ì¬ë¥¼ ëª¨ë¥¸ë‹¤.** PMë§Œ ì „ì²´ë¥¼ ì•ˆë‹¤.
2. **ì—ì´ì „íŠ¸ëŠ” ëŒ€í™”í•˜ì§€ ì•ŠëŠ”ë‹¤.** ê³„ì•½(JSON)ë§Œ ì£¼ê³ ë°›ëŠ”ë‹¤.
3. **FLOWëŠ” í˜‘ì—…ì´ ì•„ë‹ˆë¼ ìƒíƒœ ì „ì´ë‹¤.**
4. **ì—­í•  ì¹¨ë²” = í”„ë¡œí† ì½œ ìœ„ë°˜ = INVALID ì¶œë ¥.**

### GPT â†” Claude ë¶„ì—…
```
GPT-5.2 (ì‚¬ê³ ) â”€â”€â†’ PM DFA (íŒë‹¨) â”€â”€â†’ Claude (ì†)
    â”‚                   â”‚                â”‚
    â–¼                   â–¼                â–¼
  ì „ëµ ìƒì„±         ìƒíƒœ ì „ì´          ì½”ë“œ ìƒì„±
  ì˜µì…˜ ë¶„ì„         ë¼ìš°íŒ…            diff ì¶œë ¥
  ë¦¬ìŠ¤í¬ í‰ê°€       INVALID ì°¨ë‹¨      IMPLEMENTATION_BLOCKED
```

---

## ì„¤ì¹˜

```bash
# 1. í´ë¡ 
git clone https://github.com/hattz/hattz-empire.git
cd hattz-empire

# 2. ê°€ìƒí™˜ê²½
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# 3. ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt

# 4. í™˜ê²½ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ì— API í‚¤ ì„¤ì •
```

## ì‹¤í–‰

```bash
# Flask ì„œë²„
python app.py

# ngrok í„°ë„ (ì„ íƒ)
ngrok http 5000 --domain=your-domain.ngrok-free.app
```

---

## PM State Machine (DFA)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           PM DECISION DFA (v2.5.5)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   DISPATCH â”€â”€â†’ RETRY â”€â”€â†’ DISPATCH (max 2)                                  â”‚
â”‚       â”‚           â”‚                                                         â”‚
â”‚       â”œâ”€â”€â†’ DONE   â””â”€â”€â†’ BLOCKED â”€â”€â†’ ESCALATE â”€â”€â†’ DONE                       â”‚
â”‚       â”‚                                                                     â”‚
â”‚       â””â”€â”€â†’ BLOCKED â”€â”€â†’ ESCALATE â”€â”€â†’ DONE                                   â”‚
â”‚                                                                             â”‚
â”‚   ê¸ˆì§€ëœ ì „ì´:                                                              â”‚
â”‚   â”œâ”€ DISPATCH â†’ ESCALATE âŒ (BLOCKED ê²½ìœ  í•„ìˆ˜)                            â”‚
â”‚   â”œâ”€ DONE â†’ * âŒ (terminal)                                                 â”‚
â”‚   â”œâ”€ RETRY â†’ ESCALATE âŒ (BLOCKED ê²½ìœ  í•„ìˆ˜)                               â”‚
â”‚   â””â”€ BLOCKED â†’ DISPATCH âŒ (ESCALATEë¡œë§Œ)                                  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Retry Escalation ë¶ˆë³€ì¡°ê±´
| ì›ì¹™ | ì„¤ëª… |
|------|------|
| **Monotonic** | SELF_REPAIR â†’ ROLE_SWITCH â†’ HARD_FAIL (ì ˆëŒ€ ê°ì†Œ ì•ˆí•¨) |
| **Terminal** | HARD_FAIL ë„ë‹¬ í›„ ëª¨ë“  ì‹¤íŒ¨ëŠ” HARD_FAIL ìœ ì§€ |
| **Once** | ROLE_SWITCHëŠ” í”„ë¡œí•„ë‹¹ 1íšŒë§Œ í—ˆìš© |

---

## ëª¨ë¸ í‹°ì–´ ì‹œìŠ¤í…œ v2.6.5

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     í‹°ì–´     â”‚          ëª¨ë¸            â”‚             ìš©ë„                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ EXEC         â”‚ Claude CLI Opus 4.5      â”‚ PM, Coder, Excavator              â”‚
â”‚              â”‚ Claude CLI Sonnet 4.5    â”‚ QA, Reviewer, Analyst, Researcher â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ VIP-THINKING â”‚ GPT-5.2 Thinking Extendedâ”‚ Strategist                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ VIP-AUDIT    â”‚ Claude CLI Opus 4.5      â”‚ "ìµœê³ /" í”„ë¦¬í”½ìŠ¤                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**v2.6.5 ì£¼ìš” ë³€ê²½:**
- Researcher: Perplexity Sonar Pro â†’ Claude CLI Sonnet 4.5
- ë‚ ì§œ ìë™ ì£¼ì…ìœ¼ë¡œ ìµœì‹  ì •ë³´ ê°•ì œ ê²€ìƒ‰
- API ë¹„ìš© ì ˆê° (Perplexity ì œê±°)

---

## Dual Engine ì—­í• ë³„ ëª¨ë¸ ë§¤í•‘

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            DUAL ENGINE (Writer + Auditor + Stamp)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ì—­í•    â”‚        Writer           â”‚        Auditor          â”‚         Stamp           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ coder    â”‚ Claude CLI Opus 4.5     â”‚ Claude CLI Sonnet 4     â”‚ Claude CLI Sonnet 4     â”‚
â”‚          â”‚ profile: coder          â”‚ profile: reviewer       â”‚ profile: reviewer       â”‚
â”‚          â”‚ Silent Implementer      â”‚ Devil's Advocate        â”‚ Strict Verdict Clerk    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚strategistâ”‚ GPT-5.2 Thinking        â”‚ Claude CLI Sonnet 4     â”‚ Claude CLI Sonnet 4     â”‚
â”‚          â”‚ Extended                â”‚ profile: reviewer       â”‚ profile: reviewer       â”‚
â”‚          â”‚ Systems Architect       â”‚ Reality Check CTO       â”‚ Strict Verdict Clerk    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ qa       â”‚ Claude CLI Sonnet 4     â”‚ Claude CLI Sonnet 4     â”‚ Claude CLI Sonnet 4     â”‚
â”‚          â”‚ profile: qa             â”‚ profile: reviewer       â”‚ profile: reviewer       â”‚
â”‚          â”‚ Test Designer           â”‚ Breaker                 â”‚ Strict Verdict Clerk    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚researcherâ”‚ Claude CLI Sonnet 4.5   â”‚ (ë‹¨ì¼ ì—”ì§„)             â”‚ (ë‹¨ì¼ ì—”ì§„)             â”‚
â”‚          â”‚ profile: researcher     â”‚                         â”‚                         â”‚
â”‚          â”‚ Source Harvester + ë‚ ì§œ ìë™ ì£¼ì… (ìµœì‹  ì •ë³´ ê°•ì œ)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚excavator â”‚ GPT-5.2 Thinking        â”‚ Claude CLI Sonnet 4     â”‚ Claude CLI Sonnet 4     â”‚
â”‚          â”‚ Extended                â”‚ profile: reviewer       â”‚ profile: reviewer       â”‚
â”‚          â”‚ Requirements Interrogatorâ”‚ Ambiguity Sniffer      â”‚ Strict Verdict Clerk    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                  SINGLE ENGINE                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ pm       â”‚ Claude CLI Opus 4.5 (profile: pm) - Bureaucrat Router                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ analyst  â”‚ Claude CLI Sonnet 4.5 (profile: analyst) - Log Summarizer                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚researcherâ”‚ Claude CLI Sonnet 4.5 (profile: researcher) - Source Harvester + ë‚ ì§œ ì£¼ì…  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Dual Engine V3: Write â†’ Audit â†’ Rewrite

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    V3 Write-Audit-Rewrite íŒ¨í„´                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. Writer ì´ˆì•ˆ ì‘ì„±                                                         â”‚
â”‚          â†“                                                                   â”‚
â”‚  2. Auditor ë¦¬ë·° (JSON verdict ë°˜í™˜)                                        â”‚
â”‚     {                                                                        â”‚
â”‚       "verdict": "APPROVE | REVISE | REJECT",                               â”‚
â”‚       "must_fix": [...],                                                    â”‚
â”‚       "requires_council": bool,                                             â”‚
â”‚       "confidence": 0-100                                                   â”‚
â”‚     }                                                                        â”‚
â”‚          â†“                                                                   â”‚
â”‚  3. verdict ë¶„ê¸°                                                             â”‚
â”‚     â”œâ”€ APPROVE â†’ ìµœì¢… ê²°ê³¼ ë°˜í™˜                                             â”‚
â”‚     â”œâ”€ REVISE  â†’ Writer ì¬ì‘ì„± (max 3íšŒ)                                    â”‚
â”‚     â””â”€ REJECT  â†’ Council ì†Œì§‘                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## CEO ë¼ìš°íŒ… ê·œì¹™

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ë¼ìš°íŒ… ì œì•½                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   CEO â”€â”€â”€â”€â”€â”¬â”€â”€â†’ PM âœ… (ìœ ì¼í•˜ê²Œ í—ˆìš©)                                       â”‚
â”‚            â”‚                                                                â”‚
â”‚            â”œâ”€â”€âœ— Coder      âŒ ì°¨ë‹¨                                          â”‚
â”‚            â”œâ”€â”€âœ— QA         âŒ ì°¨ë‹¨                                          â”‚
â”‚            â”œâ”€â”€âœ— Strategist âŒ ì°¨ë‹¨                                          â”‚
â”‚            â”œâ”€â”€âœ— Analyst    âŒ ì°¨ë‹¨                                          â”‚
â”‚            â”œâ”€â”€âœ— Researcher âŒ ì°¨ë‹¨                                          â”‚
â”‚            â””â”€â”€âœ— Excavator  âŒ ì°¨ë‹¨                                          â”‚
â”‚                                                                             â”‚
â”‚   PM â”€â”€â”€â”€â”€â”€â”¬â”€â”€â†’ [CALL:coder]      âœ… (_internal_call=True)                  â”‚
â”‚            â”œâ”€â”€â†’ [CALL:qa]         âœ…                                        â”‚
â”‚            â”œâ”€â”€â†’ [CALL:strategist] âœ…                                        â”‚
â”‚            â”œâ”€â”€â†’ [CALL:analyst]    âœ…                                        â”‚
â”‚            â”œâ”€â”€â†’ [CALL:researcher] âœ…                                        â”‚
â”‚            â””â”€â”€â†’ [CALL:excavator]  âœ…                                        â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Persona Pack

### íŒŒì¼ êµ¬ì¡°

```
.claude/agents/
â”œâ”€â”€ GLOBAL_RULES.md      # ê³µí†µ í—Œë²• (ì „ ì—ì´ì „íŠ¸ ë§¨ ìœ„ì— ë¶™ì„)
â”œâ”€â”€ pm.md                # Bureaucrat Router (Sonnet 4)
â”œâ”€â”€ coder.md             # Silent Implementer (Opus 4.5, coder profile)
â”œâ”€â”€ stamp.md             # Strict Verdict Clerk (Sonnet 4)
â”œâ”€â”€ coder-reviewer.md    # Devil's Advocate (Sonnet 4)
â”œâ”€â”€ qa.md                # Test Designer (Sonnet 4)
â”œâ”€â”€ qa-reviewer.md       # Breaker (Sonnet 4)
â”œâ”€â”€ strategist.md        # Systems Architect (GPT-5.2 Thinking)
â”œâ”€â”€ excavator.md         # Requirements Interrogator (GPT-5.2 Thinking)
â”œâ”€â”€ researcher.md        # Source Harvester (Perplexity Sonar Pro)
â”œâ”€â”€ analyst.md           # Log Summarizer (Gemini Flash)
â””â”€â”€ council.md           # 7-member Jury (Sonnet 4 Ã— 7)
```

### ì—­í• ë³„ ì¶œë ¥ í˜•ì‹

| ì—­í•  | ì¶œë ¥ | í•µì‹¬ ê·œì¹™ |
|------|------|-----------|
| PM | JSON + [CALL:*] | ë¼ìš°í„°, íŒë‹¨ì€ í•˜ë˜ ì ˆì°¨ëŒ€ë¡œ |
| Coder | unified diffë§Œ | ì… ë´‰ì¸, íŒ¨ì¹˜ ìƒì‚°ê¸° |
| Stamp | JSON only | APPROVE/REJECTë§Œ, ìˆ˜ì • ì•ˆí•¨ |
| Coder-Reviewer | JSON verdict | ì·¨í–¥í‰ ê¸ˆì§€, ì¹˜ëª… ì´ìŠˆë§Œ |
| QA | diff + JSON | ê²€ì¦ë§Œ, ê¸°ëŠ¥ ì¶”ê°€ ê¸ˆì§€ |
| QA-Reviewer | JSON | íŒŒê´´ì, ì—£ì§€ì¼€ì´ìŠ¤ë§Œ |
| Strategist | JSON | ì˜ì‚¬ê²°ì • ìë£Œë§Œ |
| Excavator | JSON | ì§ˆë¬¸/ê°€ì •/ëª…ì„¸ë§Œ |
| Researcher | JSON + URL | ê·¼ê±° ìˆ˜ì§‘ë§Œ, íŒë‹¨ ê¸ˆì§€ |
| Analyst | JSON | ë¡œê·¸ ì••ì¶•ë§Œ, í•´ê²°ì±… ê¸ˆì§€ |
| Council | JSON íˆ¬í‘œ | í•œ ë©¤ë²„ë‹¹ 1í‘œ, ì¥ë¬¸ ê¸ˆì§€ |

---

## Council (7ì¸ ìœ„ì›íšŒ)

PM ì „ìš©. ëª¨ë‘ Claude CLI Sonnet 4 (profile: reviewer)

| ë©¤ë²„ | ê´€ì  |
|------|------|
| Skeptic ğŸ˜ | ê·¼ê±° ë¶€ì¡±í•˜ë©´ REJECT |
| Perfectionist ğŸ”¬ | í…ŒìŠ¤íŠ¸/ëª…ì„¸ ë¹ˆì•½í•˜ë©´ REJECT |
| Pragmatist ğŸ¯ | ì§€ê¸ˆ ëª©ì  ë‹¬ì„±í•˜ë©´ APPROVE |
| Pessimist ğŸ˜Ÿ | ìš´ì˜/ì¥ì•  ê°€ëŠ¥ì„± ìµœìš°ì„  |
| Optimist ğŸ˜Š | ì„±ê³µ ê²½ë¡œ ì œì‹œ, ì›¬ë§Œí•˜ë©´ APPROVE |
| Devil's Advocate ğŸ˜ˆ | ë°˜ë¡€ 1ê°œë§Œ ì œëŒ€ë¡œ |
| Security Hawk ğŸ¦… | OWASP/ë¹„ë°€/ê¶Œí•œ/ì¸ì¦ |

### ì¶œë ¥ ìŠ¤í‚¤ë§ˆ

```json
{
  "member": "Skeptic",
  "vote": "APPROVE | REJECT",
  "score": 0-100,
  "one_blocker": "ì—†ìœ¼ë©´ ë¹ˆë¬¸ì",
  "one_fix": "í•œ ì¤„"
}
```

---

## Docker Architecture (10 Containers)

```
docker/
â”œâ”€â”€ Dockerfile.web         # Flask + Gunicorn + ngrok + supervisord
â”œâ”€â”€ Dockerfile.api         # Python only (OpenAI/Gemini API)
â”œâ”€â”€ Dockerfile.claude      # Python + Node.js + Claude CLI
â”œâ”€â”€ Dockerfile.monitor     # Prometheus + Grafana (All-in-One)
â””â”€â”€ monitor-supervisord.conf

Monitoring:
â”œâ”€â”€ prometheus/prometheus.yml
â””â”€â”€ grafana/provisioning/
```

| Container | ì—­í•  | í¬íŠ¸ |
|-----------|------|------|
| web | Flask + DB | 5000 |
| pm-worker | GPT-5.2 Thinking | - |
| pm-reviewer | Claude CLI | - |
| coder-worker | Claude CLI (Opus) | - |
| coder-reviewer | Claude CLI (Sonnet) | - |
| qa-worker | Claude CLI | - |
| qa-reviewer | Claude CLI | - |
| reviewer-worker | Gemini Flash | - |
| reviewer-reviewer | Claude CLI | - |
| monitor | Prometheus + Grafana | 9090, 3000 |

---

## Key Files

| íŒŒì¼ | ì—­í•  |
|------|------|
| `src/core/llm_caller.py` | Dual Engine V3 + CEO ë¼ìš°íŒ… |
| `src/infra/council.py` | 7ì¸ ìœ„ì›íšŒ ì‹œìŠ¤í…œ |
| `src/services/cli_supervisor.py` | CLI í”„ë¡œí•„ë³„ ëª¨ë¸ ë§¤í•‘ |
| `.claude/agents/*.md` | í˜ë¥´ì†Œë‚˜ ì •ì˜ |
| `config.py` | ëª¨ë¸ ì„¤ì • |
| `CLAUDE.md` | Claude Code í”„ë¡œì íŠ¸ ì»¨í…ìŠ¤íŠ¸ |

---

## ë²„ì „ íˆìŠ¤í† ë¦¬

| ë²„ì „ | ë‚ ì§œ | ì½”ë“œë„¤ì„ |
|------|------|----------|
| v2.6.0 | 2026-01-07 | Analytics Dashboard + RAG Agent Filter |
| v2.5.5 | 2026-01-07 | ë¶€íŠ¸ë¡œë” ì›ì¹™ + PM DFA + Semantic Guard |
| v2.5.4 | 2026-01-07 | PM Decision Machine + Retry Escalation |
| v2.4.0 | 2026-01-07 | Dual Engine V3 + Persona Pack |
| v2.3.0 | 2026-01-06 | Hook Chain + Router Agent |
| v2.2.1 | 2026-01-06 | Docker + JSONL Persistence |
| v2.1.1 | 2026-01-05 | í†µì¥ ë³´í˜¸ + ì£¼ë‘¥ì´ ë´‰ì¸ |

---

## License

MIT License

---

*Last Updated: 2026-01-07 | Hattz Empire v2.6.0*
